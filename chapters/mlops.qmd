---
title: "Vers le MLOps"
author: "Romain Avouac et Lino Galiana"
description: |
  <br>
  Présentation de l'approche MLOps.
image: https://minio.lab.sspcloud.fr/lgaliana/generative-art/mise-en-prod/army.png
order: 6
href: chapters/mlops.html
---


On a vu comment déployer un projet data science. On est déjà aller loin dans la production. Cependant pour les projets de machine learning il y a d'autres enjeux qui apparaissent et qui doivent être pris en compte.

- Ou nous en sommes ?

Grâce aux chapitres précédents on sait comment structurer et rendre son projet de de data science reproductible et portable grâce à l'approche DevOps. Pour de nombreux projets de data science cela peut s'avérer suffisant. Cependant, dès lors que l'on intègre un modèle de machine learning à notre projet l'approche DevOps devient alors une condition nécessaire mais plus suffisante pour réussir à mettre en production notre modèle. Aujourd'hui, une très grande majorité des modèles de machine learning ne dépassent pas le stade de l'expérimentation et très peu parviennent à atteindre le stade de la production. Pour simplifier ce passage vers la production une nouvelle approche a émergé en intégrant les spécificités des modèles de machine learning : le MLOps. Ce chapitre définie cette approche et propose présente plusieurs outils pour l'adopter à ces projets de data science.


# Du DevOps vers le MLOps

## L'approche DevOps


L'approche DevOps, contraction des termes "Development" et "Operations", est une méthodologie de développement logiciel qui vise à améliorer la collaboration et la communication entre les équipes de développement (Dev) et l'administration système (Ops). Son objectif principal est d'accélérer et optimiser le cycle de vie du développement logiciel, de la conception à la production, en favorisant l'automatisation, l'intégration continue et le déploiement continu (cf. chapitre sur la mise en production).

Cette approche, datant de 2007, vise à éliminer les barrières traditionnelles entre le développement et l'informatique, favorisant ainsi une culture de responsabilité partagée. Les principes fondamentaux de DevOps incluent l'**automatisation** des processus, la **surveillance** continue des performances, la **gestion agile** des changements, et la création d'une **boucle de rétroaction** rapide pour améliorer en permanence les processus de développement et d'exploitation.

En résumé, DevOps vise à créer un écosystème de développement collaboratif, automatisé et axé sur l'amélioration continue. Le cycle de vie DevOps est souvent résumé par ces 8 phases inter-connectées : 

![](/devops.png)

## L'approche MLOps 

L'approche MLOps s'est construite sur les bases de l'approche DevOps. En cela on peut considérer qu'il s'agit simplement d'une extension à l'approche DevOps qui s'est développée pour répondre aux défis spécifiques liés à la gestion du cycle de vie des modèles de machine learning. Le MLOps intègre les principes de collaboration et d'automatisation propre au DevOps mais prend également en compte tous les aspects liés aux données et aux modèles de machine learning. 

Le MLOps implique l'**automatisation des tâches** telles que la gestion des données, le suivi des **versions des modèles**, leurs **déploiements**, ainsi que l'**évaluation continue** de la performance des modèles en production. De la même manière que le DevOps, le MLOps met l'accent sur la collaboration étroite entre les équipes de développement et de l'administration système d'une part ainsi que les équipes de data science d'autre pas. Cette collaboration est clé pour garantir une communication efficace tout au long du cycle de vie du modèle de machine learning.

Ainsi on définit généralement les 5 piliers du MLOps comme étant :

  - **la reproductibilité** : chaque expérimentation doit pouvoir être reproduite sans coût (gestion des packages, gestion des environnements, gestion des librairies système, gestion de version du code ...)
  - **la collaboration** : les différentes parties prenantes au projet doivent communiquer afin d'optimiser le cycle de vie du modèle en production
  - **l'automatisation** : le cycle de vie du modèle doit être automatisé au maximum avec des *pipeline* de CI/CD
  - **le contrôle de version des modèles** : chaque modèle doit avoir une version spécifique permettant de connaître sa situation tout au long de son cycle de vie (expérimental, en production, archivé...). De plus, un modèle ne dépend pas seulement des scripts associés, mais également des données utilisées lors de l'entraînement ce qui rend d'autant plus nécessaire une bonne gestion des versions
  - **la surveillance** : une fois déployé, il est important de s'assurer que le modèle fonctionne bien comme attendu en évaluant ses performances en temps réel


# Implémentation de l'approche MLOps avec MLflow

## Pourquoi MLflow 

il y en a plein de différentes. mlflow a plusieurs avantages (open source, présent sur ssp cloud)

## Les projets MLflow

## Les modèles MLflow

## Le serveur de suivi (*tracking server*)

## l'entrepôt de modèles (*model registry*)

## MLflow en résumé

PARLER DES LIMITES DES NOTEBOOKS

# Spécificités liées à la mise en prod de modèles de ML

- Entraînement : batch ou online
- Batch vs real-time prediction 
- Feedback loops expérimentation/déploiement/monitoring
- Exposer le modèle via une API

# Servir un modèle ML à des utilisateur

- API Rest / FastAPI

## Notions d'observabilité

- Drifts
- Quelles métriques monitorer

## Distribuer l'entraînement des modèles

- Réentraînement : périodique vs continu

## Amélioration continue

- Réentraînement : périodique vs continu
